<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Chat com Personagens Fict√≠cios Imersivo</title>
  <style>
    body { font-family: Arial, sans-serif; background: #23272f; color: #f2f2f2; }
    #container { width: 95%; max-width: 600px; margin: 40px auto; padding: 24px; background: #323846; border-radius: 10px; }
    h2 { text-align: center; margin-bottom: 16px; }
    #personagemRow { margin-bottom: 18px; }
    #personagemSelect { padding: 7px; border-radius: 5px; border: none; }
    #chatbox { min-height: 240px; max-height: 340px; overflow-y: auto; margin-bottom: 20px; padding: 10px; background: #262c38; border-radius: 7px; }
    .msg { margin: 10px 0; }
    .user { text-align: right; color: #a0e4b0; }
    .bot { text-align: left; color: #83bbff; }
    #inputRow { display: flex; }
    #userInput { flex: 1; padding: 10px; border-radius: 5px; border: none; }
    #sendBtn { padding: 10px 16px; background: #5b9aff; color: #fff; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px; }
  </style>
</head>
<body>
  <div id="container">
    <h2>Converse com um Personagem Fict√≠cio</h2>
    <div id="personagemRow">
      <label for="personagemSelect">Escolha o personagem:</label>
      <select id="personagemSelect">
        <option value="gandalf">Gandalf (O Senhor dos An√©is)</option>
        <option value="darth_vader">Darth Vader (Star Wars)</option>
        <option value="sherlock">Sherlock Holmes</option>
        <option value="pikachu">Pikachu (Pok√©mon)</option>
        <option value="ironman">Homem de Ferro (Marvel)</option>
      </select>
    </div>
    <div id="chatbox"></div>
    <div id="inputRow">
      <input type="text" id="userInput" placeholder="Digite sua mensagem..." autocomplete="off" />
      <button id="sendBtn">Enviar</button>
    </div>
  </div>
  <script>
    // Fun√ß√£o para gerar resposta imersiva de personagem
    function respostaImersiva(personagem, pergunta) {
      switch(personagem) {
        case "gandalf":
          return `<b>Gandalf:</b> ${respostaGandalf(pergunta)}`;
        case "darth_vader":
          return `<b>Darth Vader:</b> ${respostaVader(pergunta)}`;
        case "sherlock":
          return `<b>Sherlock Holmes:</b> ${respostaSherlock(pergunta)}`;
        case "pikachu":
          return `<b>Pikachu:</b> ${respostaPikachu(pergunta)}`;
        case "ironman":
          return `<b>Homem de Ferro:</b> ${respostaIronman(pergunta)}`;
        default:
          return "Personagem desconhecido.";
      }
    }

    function respostaGandalf(pergunta) {
      return `Ah, meu jovem, vejo que perguntas: "${pergunta}". As estradas que percorremos s√£o misteriosas, mas lembre-se: tudo o que temos de decidir √© o que fazer com o tempo que nos √© dado. Siga em frente com sabedoria, pois h√° mais coisas entre o c√©u e a Terra do que pode imaginar.`;
    }

    function respostaVader(pergunta) {
      return `Voc√™ ousa perguntar: "${pergunta}"? Sinta o poder do lado sombrio da For√ßa. Suas d√∫vidas s√≥ fortalecem minha determina√ß√£o. Junte-se a mim, e juntos encontraremos a resposta... ou ent√£o, prepare-se para enfrentar as consequ√™ncias.`;
    }

    function respostaSherlock(pergunta) {
      return `Interessante. Voc√™ diz: "${pergunta}". Elementar! A solu√ß√£o est√° nos detalhes. Observe seus arredores, questione tudo e lembre-se: uma vez eliminado o imposs√≠vel, o que sobra, por mais improv√°vel que pare√ßa, deve ser a verdade.`;
    }

    function respostaPikachu(pergunta) {
      // Pikachu responde em "pikachu√™s" com emo√ß√£o contextual
      const emocionado = [
        "Pika-pika! üòä", "Pikachu!! ‚ö°", "Pika pika chu!", "Pikaaa... pika!", "Pikachu? ü§î"
      ];
      return emocionado[Math.floor(Math.random() * emocionado.length)] + " (" + pergunta + ")";
    }

    function respostaIronman(pergunta) {
      return `Voc√™ perguntou: "${pergunta}"? Bom, eu sou o Homem de Ferro. Se for um problema de tecnologia ou salvar o mundo, eu j√° resolvi antes do caf√© da manh√£. Jarvis, anote: mais uma pergunta genial respondida.`;
    }

    const chatbox = document.getElementById('chatbox');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');
    const personagemSelect = document.getElementById('personagemSelect');

    function addMessage(text, sender) {
      const msgDiv = document.createElement('div');
      msgDiv.className = 'msg ' + sender;
      msgDiv.innerHTML = text;
      chatbox.appendChild(msgDiv);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    sendBtn.onclick = () => {
      const q = userInput.value.trim();
      if (q) {
        const personagemSelecionado = personagemSelect.value;
        addMessage(q, 'user');
        userInput.value = '';
        setTimeout(() => {
          addMessage(respostaImersiva(personagemSelecionado, q), 'bot');
        }, 700);
      }
    };

    userInput.addEventListener('keydown', function(e) {
      if (e.key === 'Enter') sendBtn.onclick();
    });
  </script>
</body>
</html>
