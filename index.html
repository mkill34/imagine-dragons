<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Chat com Personagens Fict√≠cios - Di√°logo</title>
  <style>
    body { font-family: Arial, sans-serif; background: #23272f; color: #f2f2f2; }
    #container { width: 95%; max-width: 600px; margin: 40px auto; padding: 24px; background: #323846; border-radius: 10px; }
    h2 { text-align: center; margin-bottom: 16px; }
    #personagemRow { margin-bottom: 18px; }
    #personagemSelect { padding: 7px; border-radius: 5px; border: none; }
    #chatbox { min-height: 240px; max-height: 340px; overflow-y: auto; margin-bottom: 20px; padding: 10px; background: #262c38; border-radius: 7px; }
    .msg { margin: 10px 0; }
    .user { text-align: right; color: #a0e4b0; }
    .bot { text-align: left; color: #83bbff; }
    .linha-dialogo { margin: 3px 0; }
    .personagem { font-weight: bold; }
    .usuario { font-weight: bold; color: #ced; }
    #inputRow { display: flex; }
    #userInput { flex: 1; padding: 10px; border-radius: 5px; border: none; }
    #sendBtn { padding: 10px 16px; background: #5b9aff; color: #fff; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px; }
  </style>
</head>
<body>
  <div id="container">
    <h2>Di√°logo com Personagem Fict√≠cio</h2>
    <div id="personagemRow">
      <label for="personagemSelect">Escolha o personagem:</label>
      <select id="personagemSelect">
        <option value="gandalf">Gandalf (O Senhor dos An√©is)</option>
        <option value="darth_vader">Darth Vader (Star Wars)</option>
        <option value="sherlock">Sherlock Holmes</option>
        <option value="pikachu">Pikachu (Pok√©mon)</option>
        <option value="ironman">Homem de Ferro (Marvel)</option>
      </select>
    </div>
    <div id="chatbox"></div>
    <div id="inputRow">
      <input type="text" id="userInput" placeholder="Digite sua mensagem..." autocomplete="off" />
      <button id="sendBtn">Enviar</button>
    </div>
  </div>
  <script>
    // Fun√ß√µes de di√°logo imersivo para cada personagem
    function dialogoGandalf(pergunta) {
      return `
        <div class="linha-dialogo"><span class="usuario">Voc√™:</span> ${pergunta}</div>
        <div class="linha-dialogo"><span class="personagem">Gandalf:</span> Ah, jovem viajante, vejo que perguntas: "${pergunta}". Muitas vezes, buscamos respostas em lugares distantes, mas lembre-se: at√© o menor dos atos pode mudar o destino do mundo. O que mais aflige seu cora√ß√£o nesta jornada?</div>
      `;
    }
    function dialogoVader(pergunta) {
      return `
        <div class="linha-dialogo"><span class="usuario">Voc√™:</span> ${pergunta}</div>
        <div class="linha-dialogo"><span class="personagem">Darth Vader:</span> Ent√£o voc√™ ousa me perguntar: "${pergunta}"? Saiba que a For√ßa est√° sempre presente, mas poucos sabem us√°-la. Escolha sabiamente seu caminho, pois s√≥ o lado sombrio lhe dar√° o poder que deseja. Qual √© o seu pr√≥ximo movimento?</div>
      `;
    }
    function dialogoSherlock(pergunta) {
      return `
        <div class="linha-dialogo"><span class="usuario">Voc√™:</span> ${pergunta}</div>
        <div class="linha-dialogo"><span class="personagem">Sherlock Holmes:</span> Interessante observa√ß√£o: "${pergunta}". Elementar! Toda pergunta carrega pistas. Conte-me, h√° algum detalhe que voc√™ deixou escapar, ou podemos avan√ßar direto √† solu√ß√£o?</div>
      `;
    }
    function dialogoPikachu(pergunta) {
      // Pikachu responde em pikachu√™s e depois tenta ser fofo, imitando um di√°logo
      const emocao = [
        "Pika-pika! üòä", "Pikachu!! ‚ö°", "Pika pika chu!", "Pikaaa... pika!", "Pikachu? ü§î"
      ];
      const fala = emocao[Math.floor(Math.random() * emocao.length)];
      return `
        <div class="linha-dialogo"><span class="usuario">Voc√™:</span> ${pergunta}</div>
        <div class="linha-dialogo"><span class="personagem">Pikachu:</span> ${fala} (Isso quer dizer que Pikachu est√° tentando te entender e quer brincar!)</div>
      `;
    }
    function dialogoIronman(pergunta) {
      return `
        <div class="linha-dialogo"><span class="usuario">Voc√™:</span> ${pergunta}</div>
        <div class="linha-dialogo"><span class="personagem">Homem de Ferro:</span> Ent√£o, voc√™ me pergunta: "${pergunta}"? Bem, eu sou o Tony Stark. Se envolver tecnologia, j√° resolvi isso antes do almo√ßo. Mas me diga, voc√™ quer salvar o mundo comigo ou s√≥ est√° curioso mesmo?</div>
      `;
    }

    function respostaDialogo(personagem, pergunta) {
      switch(personagem) {
        case "gandalf": return dialogoGandalf(pergunta);
        case "darth_vader": return dialogoVader(pergunta);
        case "sherlock": return dialogoSherlock(pergunta);
        case "pikachu": return dialogoPikachu(pergunta);
        case "ironman": return dialogoIronman(pergunta);
        default: return `<div class="linha-dialogo">Personagem desconhecido.</div>`;
      }
    }

    const chatbox = document.getElementById('chatbox');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');
    const personagemSelect = document.getElementById('personagemSelect');

    function addMessage(html, sender) {
      const msgDiv = document.createElement('div');
      msgDiv.className = 'msg ' + sender;
      msgDiv.innerHTML = html;
      chatbox.appendChild(msgDiv);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    sendBtn.onclick = () => {
      const q = userInput.value.trim();
      if (q) {
        const personagemSelecionado = personagemSelect.value;
        addMessage(respostaDialogo(personagemSelecionado, q), 'bot');
        userInput.value = '';
      }
    };

    userInput.addEventListener('keydown', function(e) {
      if (e.key === 'Enter') sendBtn.onclick();
    });
  </script>
</body>
</html>
