<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Gojo vs Sukuna - Jujutsu Kaisen (Mangá)</title>
    <style>
        body {
            background: linear-gradient(135deg, #1a1320 0%, #7e264e 100%);
            color: #fff;
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            min-height: 100vh;
        }
        .container {
            max-width: 540px;
            margin: 40px auto;
            background: rgba(25,20,32, 0.98);
            border-radius: 14px;
            padding: 32px 36px 40px 36px;
            box-shadow: 0 12px 36px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #ff3867;
            letter-spacing: 1px;
        }
        #scene {
            margin-bottom: 24px;
            font-size: 1.13em;
            min-height: 100px;
        }
        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        button {
            background: #b76cff;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 13px 18px;
            font-size: 1.04em;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
        }
        button:hover {
            background: #ff3867;
        }
        .status {
            margin-bottom: 16px;
            font-size: 0.98em;
            color: #ffccf7;
        }
        .death {
            color: #ff3867;
            font-weight: bold;
        }
        .manga {
            font-size: 0.98em;
            color: #b3e5fc;
            margin-bottom: 1em;
        }
        @media (max-width: 650px) {
            .container { padding: 16px 5vw 24px 5vw; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Gojo vs Sukuna<br><span style="font-size:0.7em;font-weight:400;">(Baseado no mangá)</span></h1>
        <div class="manga">
            <b>Atenção:</b> Este jogo contém spoilers do mangá de Jujutsu Kaisen!
        </div>
        <div class="status" id="status"></div>
        <div id="scene"></div>
        <div class="choices"></div>
    </div>
    <script>
        // Estado dos personagens
        let state = {
            gojoHP: 100,
            sukunaHP: 100,
            hollowPurpleUsado: false,
            mahorgaInvocado: false,
            gojoMorto: false,
        };

        // Cenas do jogo
        const scenes = {
            inicio: {
                texto: "Shinjuku vira palco da maior luta de feiticeiros. Gojo Satoru, o mais forte, enfrenta Ryomen Sukuna, o Rei das Maldições.<br>Ambos ativam seus domínios simultaneamente!",
                escolhas: [
                    { texto: "Gojo inicia com Infinito!", prox: "gojoInfinito" },
                    { texto: "Sukuna inicia com Santuário Malevolente!", prox: "sukunaDominio" }
                ]
            },
            gojoInfinito: {
                texto: "Gojo ativa o Infinito, bloqueando ataques diretos de Sukuna. O público observa em tensão.",
                escolhas: [
                    { texto: "Atacar com Azul", prox: "gojoAzul" },
                    { texto: "Ativar Expansão de Domínio", prox: "gojoDominio" }
                ]
            },
            sukunaDominio: {
                texto: "Sukuna expande o Santuário Malevolente! O domínio corta tudo ao redor, tornando impossível escapar.",
                efeito: () => {
                    state.gojoHP -= 25;
                },
                escolhas: [
                    { texto: "Gojo resiste e contra-ataca!", prox: "gojoAzul" }
                ]
            },
            gojoAzul: {
                texto: "Gojo dispara 'Azul', tentando distorcer Sukuna. Mas Sukuna sorri, já tendo analisado a técnica.",
                efeito: () => {
                    state.sukunaHP -= 20;
                },
                escolhas: [
                    { texto: "Sukuna invoca Mahoraga!", prox: "sukunaMahoraga" },
                    { texto: "Gojo tenta Hollow Purple", prox: "gojoHollowPurple" }
                ]
            },
            gojoDominio: {
                texto: "Gojo expande o 'Muryoku Kukan' (Unlimited Void)! Sukuna sente a mente sobrecarregada, mas rapidamente adapta seu domínio.",
                efeito: () => {
                    state.sukunaHP -= 25;
                    state.gojoHP -= 15; // Ambos sofrem danos devido ao choque de domínios
                },
                escolhas: [
                    { texto: "Sukuna invoca Mahoraga!", prox: "sukunaMahoraga" },
                    { texto: "Lutar até o fim!", prox: "climax" }
                ]
            },
            gojoHollowPurple: {
                texto: "Gojo lança Hollow Purple! Uma esfera destrutiva atravessa o campo de batalha.",
                efeito: () => {
                    state.sukunaHP -= 35;
                    state.hollowPurpleUsado = true;
                },
                escolhas: [
                    { texto: "Sukuna invoca Mahoraga!", prox: "sukunaMahoraga" },
                    { texto: "Gojo pressiona!", prox: "climax" }
                ]
            },
            sukunaMahoraga: {
                texto: "Sukuna invoca Mahoraga, o Shikigami que se adapta a qualquer técnica! Gojo sente o perigo iminente.",
                efeito: () => {
                    state.mahorgaInvocado = true;
                    state.gojoHP -= 20;
                },
                escolhas: [
                    { texto: "Gojo tenta novo Hollow Purple", prox: "gojoHollowPurpleMahoraga" },
                    { texto: "Gojo tenta proteger civis", prox: "gojoProteger" }
                ]
            },
            gojoHollowPurpleMahoraga: {
                texto: "Gojo dispara Hollow Purple novamente, mas Mahoraga adapta-se e Sukuna utiliza a brecha para atacar.",
                efeito: () => {
                    state.gojoHP -= 50;
                },
                escolhas: [
                    { texto: "O que acontece?", prox: "gojoMorte" }
                ]
            },
            gojoProteger: {
                texto: "Ao tentar proteger civis, Gojo se expõe. Sukuna aproveita e atinge Gojo com um corte multidimensional.",
                efeito: () => {
                    state.gojoHP -= 60;
                },
                escolhas: [
                    { texto: "O que acontece?", prox: "gojoMorte" }
                ]
            },
            climax: {
                texto: "A batalha atinge o ápice. Gojo e Sukuna estão exaustos, mas Sukuna usa a adaptação de Mahoraga para lançar o golpe decisivo.",
                efeito: () => {
                    state.gojoHP -= 80;
                },
                escolhas: [
                    { texto: "Desfecho...", prox: "gojoMorte" }
                ]
            },
            gojoMorte: {
                texto: () => {
                    state.gojoMorto = true;
                    if(state.gojoHP <= 0) {
                        return "<span class='death'>Gojo é partido ao meio por Sukuna usando a técnica adaptada de Mahoraga. O mais forte caiu.<br><br>Sukuna ergue-se como vencedor, mas o mundo da feitiçaria nunca mais será o mesmo.</span><br><br><b>Fim do jogo (baseado no mangá)</b><br><br>Deseja tentar outro caminho?";
                    } else {
                        return "Gojo resiste, mas está gravemente ferido. Sukuna se aproxima para o golpe final...";
                    }
                },
                escolhas: [
                    { texto: "Jogar novamente", prox: "reset" }
                ]
            },
            reset: {
                efeito: () => {
                    state.gojoHP = 100;
                    state.sukunaHP = 100;
                    state.hollowPurpleUsado = false;
                    state.mahorgaInvocado = false;
                    state.gojoMorto = false;
                },
                escolhas: [
                    { texto: "Começar!", prox: "inicio" }
                ]
            }
        };

        function mostrarCena(cenaKey) {
            const cena = scenes[cenaKey];
            // Aplica efeitos se houver
            if (cena.efeito) cena.efeito();

            // Atualiza status
            let st = `Gojo HP: <b>${state.gojoHP}</b> | Sukuna HP: <b>${state.sukunaHP}</b>`;
            if(state.gojoMorto) st += " <span class='death'>Gojo está morto!</span>";
            document.getElementById('status').innerHTML = st;

            // Mostra texto da cena
            const texto = typeof cena.texto === "function" ? cena.texto() : cena.texto;
            document.getElementById('scene').innerHTML = texto;

            // Mostra escolhas
            const choicesDiv = document.querySelector('.choices');
            choicesDiv.innerHTML = '';
            cena.escolhas.forEach(escolha => {
                const btn = document.createElement('button');
                btn.innerText = escolha.texto;
                btn.onclick = () => mostrarCena(escolha.prox);
                choicesDiv.appendChild(btn);
            });
        }

        // Iniciar o jogo
        mostrarCena('inicio');
    </script>
</body>
</html>
