import random

class Personagem:
    def __init__(self, nome, personalidade, humor="neutro"):
        self.nome = nome
        self.personalidade = personalidade
        self.humor = humor
        self.memoria = []

    def sentir(self, evento):
        # Ajusta o humor conforme o evento
        if "elogio" in evento:
            self.humor = "feliz"
        elif "insulto" in evento:
            self.humor = "irritado"
        elif "triste" in evento:
            self.humor = "triste"
        else:
            self.humor = "neutro"
    
    def responder(self, mensagem):
        respostas_possiveis = []
        if self.humor == "feliz":
            respostas_possiveis = [
                f"{self.nome}: Estou me sentindo ótimo! {random.choice(['😊', '😄', '😁'])}",
                f"{self.nome}: Que dia maravilhoso, não acha?",
                f"{self.nome}: Adorei ouvir isso! Você é incrível!"
            ]
        elif self.humor == "irritado":
            respostas_possiveis = [
                f"{self.nome}: Não gostei disso... {random.choice(['😠', '😡'])}",
                f"{self.nome}: Prefiro não falar sobre isso agora.",
                f"{self.nome}: Você poderia ser mais gentil?"
            ]
        elif self.humor == "triste":
            respostas_possiveis = [
                f"{self.nome}: Estou meio pra baixo hoje... {random.choice(['😔', '😢'])}",
                f"{self.nome}: Não estou no meu melhor momento.",
                f"{self.nome}: Às vezes me sinto sozinho."
            ]
        else:
            respostas_possiveis = [
                f"{self.nome}: O que você gostaria de conversar hoje?",
                f"{self.nome}: Estou curioso sobre você.",
                f"{self.nome}: Vamos conversar!"
            ]
        
        # Garante que respostas não se repitam consecutivamente
        resposta = random.choice(respostas_possiveis)
        while self.memoria and resposta == self.memoria[-1]:
            resposta = random.choice(respostas_possiveis)
        self.memoria.append(resposta)
        return resposta

# Exemplo de uso:
if __name__ == "__main__":
    alice = Personagem("Alice", "curiosa")
    bob = Personagem("Bob", "sarcástico")

    print(alice.responder("Oi!"))
    alice.sentir("elogio")
    print(alice.responder("Você é legal, Alice!"))
    alice.sentir("insulto")
    print(alice.responder("Você é chata!"))

    print(bob.responder("E aí, Bob?"))
    bob.sentir("triste")
    print(bob.responder("Tudo bem?"))
