import random

class Personagem:
    def __init__(self, nome, personalidade, humor="neutro"):
        self.nome = nome
        self.personalidade = personalidade
        self.humor = humor
        self.memoria = []

    def sentir(self, evento):
        # Ajusta o humor conforme o evento
        if "elogio" in evento:
            self.humor = "feliz"
        elif "insulto" in evento:
            self.humor = "irritado"
        elif "triste" in evento:
            self.humor = "triste"
        else:
            self.humor = "neutro"
    
    def responder(self, mensagem):
        respostas_possiveis = []
        if self.humor == "feliz":
            respostas_possiveis = [
                f"{self.nome}: Estou me sentindo Ã³timo! {random.choice(['ğŸ˜Š', 'ğŸ˜„', 'ğŸ˜'])}",
                f"{self.nome}: Que dia maravilhoso, nÃ£o acha?",
                f"{self.nome}: Adorei ouvir isso! VocÃª Ã© incrÃ­vel!"
            ]
        elif self.humor == "irritado":
            respostas_possiveis = [
                f"{self.nome}: NÃ£o gostei disso... {random.choice(['ğŸ˜ ', 'ğŸ˜¡'])}",
                f"{self.nome}: Prefiro nÃ£o falar sobre isso agora.",
                f"{self.nome}: VocÃª poderia ser mais gentil?"
            ]
        elif self.humor == "triste":
            respostas_possiveis = [
                f"{self.nome}: Estou meio pra baixo hoje... {random.choice(['ğŸ˜”', 'ğŸ˜¢'])}",
                f"{self.nome}: NÃ£o estou no meu melhor momento.",
                f"{self.nome}: Ã€s vezes me sinto sozinho."
            ]
        else:
            respostas_possiveis = [
                f"{self.nome}: O que vocÃª gostaria de conversar hoje?",
                f"{self.nome}: Estou curioso sobre vocÃª.",
                f"{self.nome}: Vamos conversar!"
            ]
        
        # Garante que respostas nÃ£o se repitam consecutivamente
        resposta = random.choice(respostas_possiveis)
        while self.memoria and resposta == self.memoria[-1]:
            resposta = random.choice(respostas_possiveis)
        self.memoria.append(resposta)
        return resposta

# Exemplo de uso:
if __name__ == "__main__":
    alice = Personagem("Alice", "curiosa")
    bob = Personagem("Bob", "sarcÃ¡stico")

    print(alice.responder("Oi!"))
    alice.sentir("elogio")
    print(alice.responder("VocÃª Ã© legal, Alice!"))
    alice.sentir("insulto")
    print(alice.responder("VocÃª Ã© chata!"))

    print(bob.responder("E aÃ­, Bob?"))
    bob.sentir("triste")
    print(bob.responder("Tudo bem?"))
